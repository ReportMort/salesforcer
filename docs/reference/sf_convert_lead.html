<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert Leads — sf_convert_lead • salesforcer</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Convert Leads — sf_convert_lead" />

<meta property="og:description" content="Converts Leads each into an Account, Contact, as well as (optionally) an Opportunity." />

<meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">salesforcer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/working-with-the-bulk-apis.html">Working with the Bulk APIs</a>
    </li>
    <li>
      <a href="../articles/working-with-attachments.html">Working with the Attachments</a>
    </li>
    <li>
      <a href="../articles/working-with-metadata.html">Working with Metadata</a>
    </li>
    <li>
      <a href="../articles/passing-control-args.html">Passing Control Args</a>
    </li>
    <li>
      <a href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StevenMMortimer/salesforcer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert Leads</h1>
    <small class="dont-index">Source: <a href='https://github.com/StevenMMortimer/salesforcer/blob/master/R/utils-org.R'><code>R/utils-org.R</code></a></small>
    <div class="hidden name"><code>sf_convert_lead.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Converts Leads each into an Account, Contact, as well as (optionally) an Opportunity.</p>
    
    </div>

    <pre class="usage"><span class='fu'>sf_convert_lead</span>(<span class='no'>input_data</span>, <span class='kw'>api_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"SOAP"</span>), <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='no'>...</span>),
  <span class='no'>...</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input_data</th>
      <td><p><code>named vector</code>, <code>matrix</code>, <code>data.frame</code>, or 
<code>tbl_df</code>; data can be coerced into a <code>data.frame</code>. See the details 
below on how format your input data to control things like whether an opportunity 
will be created, an email will be sent to the new owner, and other control options.</p></td>
    </tr>
    <tr>
      <th>api_type</th>
      <td><p>character; one of "REST", "SOAP", "Bulk 1.0", "Bulk 2.0", or 
"Chatter" indicating which API to use when making the request</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p><code>list</code>; a list of parameters for controlling the behavior of 
the API call being used. For more information of what parameters are available 
look at the documentation for <code><a href='sf_control.html'>sf_control</a></code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to <code><a href='sf_control.html'>sf_control</a></code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical; do you want informative messages?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>tbl_df</code> with details of the converted record</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When converting leads owned by a queue, the owner must be specified. 
This is because accounts and contacts cannot be owned by a queue. Below is a 
complete list of options to control the conversion process. Include a column 
in your input data to specify an option for each record. For example, if you 
want opportunities to not be created for each converted lead then add a column 
in your input data called <code>doNotCreateOpportunity</code> and set its value to 
<code>TRUE</code>. The default is <code>FALSE</code> which creates opportunities. The order 
of columns in the input data does not matter, just that the names 
match (case-insensitive).</p><dl class='dl-horizontal'>
 <dt>leadId</dt><dd><p>ID of the Lead to convert. Required.</p></dd>
 <dt>convertedStatus</dt><dd><p>Valid LeadStatus value for a converted lead. Required.</p></dd>
 <dt>accountId</dt><dd><p>ID of the Account into which the lead will be merged. Required 
 only when updating an existing account, including person accounts. If no 
 accountID is specified, then the API creates a new account.</p></dd>
 <dt>contactId</dt><dd><p>D of the Contact into which the lead will be merged (this 
 contact must be associated with the specified accountId, and an accountId 
 must be specified). Required only when updating an existing contact. If no 
 contactID is specified, then the API creates a new contact that is implicitly 
 associated with the Account.</p></dd>
 <dt>ownerId</dt><dd><p>Specifies the ID of the person to own any newly created account, 
 contact, and opportunity. If the client application does not specify this 
 value, then the owner of the new object will be the owner of the lead.</p></dd>
 <dt>opportunityId</dt><dd><p>The ID of an existing opportunity to relate to the lead. 
 The opportunityId and opportunityName arguments are mutually exclusive. Specifying 
 a value for both results in an error. If doNotCreateOpportunity argument is 
 <code>TRUE</code>, then no Opportunity is created and this field must be left blank; 
 otherwise, an error is returned.</p></dd>
 <dt>doNotCreateOpportunity</dt><dd><p>Specifies whether to create an Opportunity during 
 lead conversion (<code>FALSE</code>, the default) or not (<code>TRUE</code>). Set this flag 
 to <code>TRUE</code> only if you do not want to create an opportunity from the lead. 
 An opportunity is created by default.</p></dd>
 <dt>opportunityName</dt><dd><p>Name of the opportunity to create. If no name is specified, 
 then this value defaults to the company name of the lead. The maximum length 
 of this field is 80 characters. The opportunityId and opportunityName arguments 
 are mutually exclusive. Specifying a value for both results in an error. If 
 doNotCreateOpportunity argument is <code>TRUE</code>, then no Opportunity is created and 
 this field must be left blank; otherwise, an error is returned.</p></dd>
 <dt>overwriteLeadSource</dt><dd><p>Specifies whether to overwrite the LeadSource field 
 on the target Contact object with the contents of the LeadSource field in 
 the source Lead object (<code>TRUE</code>), or not (<code>FALSE</code>, the default). To 
 set this field to <code>TRUE</code>, the client application must specify a contactId 
 for the target contact.</p></dd>
 <dt>sendNotificationEmail</dt><dd><p>Specifies whether to send a notification email 
 to the owner specified in the ownerId (<code>TRUE</code>) or not (<code>FALSE</code>, 
 the default).</p></dd>
</dl><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_convertlead.htm'>Salesforce Documentation for convertLead</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># create a new lead at Grand Hotels &amp; Resorts Ltd</span>
<span class='no'>new_lead</span> <span class='kw'>&lt;-</span> <span class='fu'>tibble</span>(<span class='kw'>FirstName</span> <span class='kw'>=</span> <span class='st'>"Test"</span>, <span class='kw'>LastName</span> <span class='kw'>=</span> <span class='st'>"Prospect"</span>,
                   <span class='kw'>Company</span> <span class='kw'>=</span> <span class='st'>"Grand Hotels &amp; Resorts Ltd"</span>)
<span class='no'>rec</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sf_create.html'>sf_create</a></span>(<span class='no'>new_lead</span>, <span class='st'>"Lead"</span>)

<span class='co'># find the Id of matching account to link to</span>
<span class='no'>acct_id</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sf_query.html'>sf_query</a></span>(<span class='st'>"SELECT Id from Account WHERE name = 'Grand Hotels &amp; Resorts Ltd' LIMIT 1"</span>)

<span class='co'># create the row(s) for the leads to convert</span>
<span class='no'>to_convert</span> <span class='kw'>&lt;-</span> <span class='fu'>tibble</span>(<span class='kw'>leadId</span> <span class='kw'>=</span> <span class='no'>rec</span>$<span class='no'>id</span>,
                     <span class='kw'>convertedStatus</span> <span class='kw'>=</span> <span class='st'>"Closed - Converted"</span>,
                     <span class='kw'>accountId</span> <span class='kw'>=</span> <span class='no'>acct_id</span>$<span class='no'>Id</span>)
<span class='no'>converted_lead</span> <span class='kw'>&lt;-</span> <span class='fu'>sf_convert_lead</span>(<span class='no'>to_convert</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'c7d5ea1103660127418415a82a24fc3d',
    indexName: 'salesforcer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

