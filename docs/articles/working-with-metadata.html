<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with Metadata • salesforcer</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Working with Metadata">
<meta property="og:description" content="">
<meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">salesforcer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/working-with-the-bulk-apis.html">Working with the Bulk APIs</a>
    </li>
    <li>
      <a href="../articles/working-with-metadata.html">Working with Metadata</a>
    </li>
    <li>
      <a href="../articles/passing-control-args.html">Passing Control Args</a>
    </li>
    <li>
      <a href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/StevenMMortimer/salesforcer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Working with Metadata</h1>
                        <h4 class="author">Steven M. Mortimer</h4>
            
            <h4 class="date">2019-07-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/StevenMMortimer/salesforcer/blob/master/vignettes/working-with-metadata.Rmd"><code>vignettes/working-with-metadata.Rmd</code></a></small>
      <div class="hidden name"><code>working-with-metadata.Rmd</code></div>

    </div>

    
    
<p>Salesforce is a very flexible platform in that it provides the <a href="https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm">Metadata API</a> for users to create, read, update and delete their entire Salesforce environment from objects to page layouts and more. This makes it very easy to programmatically setup and teardown the Salesforce environment.</p>
<div id="retrieving-object-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#retrieving-object-metadata" class="anchor"></a>Retrieving Object Metadata</h3>
<p>One common use case for the Metadata API is retrieving information about an object (fields, permissions, etc.). First, load the <strong>salesforcer</strong>, <strong>dplyr</strong>, and <strong>purrr</strong> packages and login, if needed.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/warning">suppressWarnings</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/message">suppressMessages</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)))</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/warning">suppressWarnings</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/message">suppressMessages</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(purrr)))</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(salesforcer)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="kw"><a href="../reference/sf_auth.html">sf_auth</a></span>()</span></code></pre></div>
<p>You can use the <code><a href="../reference/sf_read_metadata.html">sf_read_metadata()</a></code> function to return a list of objects and their metadata. In the example below we retrieve the metadata for the Account and Contact objects. Note that the <code>metadata_type</code> argument is “CustomObject”. Standard Objects are an implementation of CustomObjects, so they are returned using that metadata type.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>read_obj_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_read_metadata.html">sf_read_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">"CustomObject"</span>,</span>
<span id="cb2-2"><a href="#cb2-2"></a>                                    <span class="dt">object_names =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Account"</span>, <span class="st">"Contact"</span>))</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>read_obj_result[[<span class="dv">1</span>]][<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"fullName"</span>, <span class="st">"label"</span>, <span class="st">"sharingModel"</span>, <span class="st">"enableHistory"</span>)]</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>first_two_fields_idx &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(read_obj_result[[<span class="dv">1</span>]]) <span class="op">==</span><span class="st"> "fields"</span>), <span class="dv">2</span>)</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co"># show the first two returned fields of the Account object</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>read_obj_result[[<span class="dv">1</span>]][first_two_fields_idx]</span></code></pre></div>
<p>The data is returned as a list because object definitions are highly nested representations. You may notice that we are missing some really specific details, such as, the picklist values of a field with type “Picklist”. You can get that information using<br><code><a href="../reference/sf_describe_object_fields.html">sf_describe_object_fields()</a></code>. Here is an example using <code><a href="../reference/sf_describe_object_fields.html">sf_describe_object_fields()</a></code> where we get a <code>tbl_df</code> with one row for each field on the Account object:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>acct_fields &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_describe_object_fields.html">sf_describe_object_fields</a></span>(<span class="st">"Account"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>acct_fields <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(name, label, length, soapType, type)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># show the picklist selection options for the Account Type field</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>acct_fields <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(label <span class="op">==</span><span class="st"> "Account Type"</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="st">  </span>.<span class="op">$</span>picklistValues</span></code></pre></div>
<p>If you prefer to be more precise about collecting and formatting the field data you can work directly with the nested lists that the APIs return. In this example we look at the picklist values of fields on the Account object.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>describe_obj_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_describe_objects.html">sf_describe_objects</a></span>(<span class="dt">object_names=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Account'</span>, <span class="st">'Contact'</span>))</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># confirm that the Account object is queryable</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>describe_obj_result[[<span class="dv">1</span>]][<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'label'</span>, <span class="st">'queryable'</span>)]</span>
<span id="cb4-5"><a href="#cb4-5"></a></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co"># now show the different picklist values for the Account Type field</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>all_fields &lt;-<span class="st"> </span>describe_obj_result[[<span class="dv">1</span>]][<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(describe_obj_result[[<span class="dv">1</span>]]) <span class="op">==</span><span class="st"> "fields"</span>]</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a>acct_type_field_idx &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(all_fields, </span>
<span id="cb4-10"><a href="#cb4-10"></a>                                    <span class="dt">FUN=</span><span class="cf">function</span>(x){x<span class="op">$</span>label}) <span class="op">==</span><span class="st"> "Account Type"</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a>acct_type_field &lt;-<span class="st"> </span>all_fields[[the_type_field_idx]]</span>
<span id="cb4-12"><a href="#cb4-12"></a>acct_type_field[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/which">which</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(acct_type_field) <span class="op">==</span><span class="st"> "picklistValues"</span>)] <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_df</a></span>(as_tibble)</span></code></pre></div>
<p>It is recommended that you try out the various metadata functions <code><a href="../reference/sf_read_metadata.html">sf_read_metadata()</a></code>, <code><a href="../reference/sf_list_metadata.html">sf_list_metadata()</a></code>, <code><a href="../reference/sf_describe_metadata.html">sf_describe_metadata()</a></code>, and <code><a href="../reference/sf_describe_objects.html">sf_describe_objects()</a></code> in order to see which information best suits your use case.</p>
</div>
<div id="modifying-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#modifying-metadata" class="anchor"></a>Modifying Metadata</h3>
<p>Where the Metadata API really shines is when it comes to CRUD operations on metadata. In this example we will create an object, add fields to it, then delete that object.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># create an object</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>base_obj_name &lt;-<span class="st"> "Custom_Account1"</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>custom_object &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>()</span>
<span id="cb5-4"><a href="#cb5-4"></a>custom_object<span class="op">$</span>fullName &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">"__c"</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a>custom_object<span class="op">$</span>label &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">gsub</a></span>(<span class="st">"_"</span>, <span class="st">" "</span>, base_obj_name))</span>
<span id="cb5-6"><a href="#cb5-6"></a>custom_object<span class="op">$</span>pluralLabel &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">"s"</span>)</span>
<span id="cb5-7"><a href="#cb5-7"></a>custom_object<span class="op">$</span>nameField &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">displayFormat =</span> <span class="st">'AN-{0000}'</span>, </span>
<span id="cb5-8"><a href="#cb5-8"></a>                                <span class="dt">label =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">' Number'</span>), </span>
<span id="cb5-9"><a href="#cb5-9"></a>                                <span class="dt">type =</span> <span class="st">'AutoNumber'</span>)</span>
<span id="cb5-10"><a href="#cb5-10"></a>custom_object<span class="op">$</span>deploymentStatus &lt;-<span class="st"> 'Deployed'</span></span>
<span id="cb5-11"><a href="#cb5-11"></a>custom_object<span class="op">$</span>sharingModel &lt;-<span class="st"> 'ReadWrite'</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>custom_object<span class="op">$</span>enableActivities &lt;-<span class="st"> 'true'</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>custom_object<span class="op">$</span>description &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">" created by the Metadata API"</span>)</span>
<span id="cb5-14"><a href="#cb5-14"></a>custom_object_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_create_metadata.html">sf_create_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomObject'</span>,</span>
<span id="cb5-15"><a href="#cb5-15"></a>                                           <span class="dt">metadata =</span> custom_object)</span>
<span id="cb5-16"><a href="#cb5-16"></a></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co"># add fields to the object</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>custom_fields &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">fullName=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">'__c.CustomField3__c'</span>), </span>
<span id="cb5-19"><a href="#cb5-19"></a>                                   <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(base_obj_name, <span class="st">'__c.CustomField4__c'</span>)), </span>
<span id="cb5-20"><a href="#cb5-20"></a>                        <span class="dt">label=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Test Field3'</span>, <span class="st">'Test Field4'</span>), </span>
<span id="cb5-21"><a href="#cb5-21"></a>                        <span class="dt">length=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">100</span>, <span class="dv">100</span>), </span>
<span id="cb5-22"><a href="#cb5-22"></a>                        <span class="dt">type=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Text'</span>, <span class="st">'Text'</span>))</span>
<span id="cb5-23"><a href="#cb5-23"></a>create_fields_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_create_metadata.html">sf_create_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomField'</span>, </span>
<span id="cb5-24"><a href="#cb5-24"></a>                                           <span class="dt">metadata =</span> custom_fields)</span>
<span id="cb5-25"><a href="#cb5-25"></a></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="co"># delete the object</span></span>
<span id="cb5-27"><a href="#cb5-27"></a>delete_obj_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_delete_metadata.html">sf_delete_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomObject'</span>, </span>
<span id="cb5-28"><a href="#cb5-28"></a>                                        <span class="dt">object_names =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">'Custom_Account1__c'</span>))</span></code></pre></div>
<p>Note that newly created custom fields are not editable by default, meaning that you will not be able to insert records into them until updating the field level security of your user profile. Run the following code to determine the user profiles in your org and updating the field permissions on an object that you may have created with the example code above.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># get list of user proviles in order to get the "fullName" </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co"># parameter correct in the next call</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>my_queries &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">type =</span> <span class="st">'Profile'</span>))</span>
<span id="cb6-4"><a href="#cb6-4"></a>profiles_list &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_list_metadata.html">sf_list_metadata</a></span>(<span class="dt">queries =</span> my_queries)</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a>admin_editable &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">fullName =</span> <span class="st">'Admin'</span>, </span>
<span id="cb6-7"><a href="#cb6-7"></a>                       <span class="dt">fieldPermissions=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">field=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(custom_object<span class="op">$</span>fullName, </span>
<span id="cb6-8"><a href="#cb6-8"></a>                                                          <span class="st">'.CustomField3__c'</span>),</span>
<span id="cb6-9"><a href="#cb6-9"></a>                                             <span class="dt">editable=</span><span class="st">'true'</span>), </span>
<span id="cb6-10"><a href="#cb6-10"></a>                       <span class="dt">fieldPermissions=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">field=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(custom_object<span class="op">$</span>fullName, </span>
<span id="cb6-11"><a href="#cb6-11"></a>                                                          <span class="st">'.CustomField4__c'</span>),</span>
<span id="cb6-12"><a href="#cb6-12"></a>                                             <span class="dt">editable=</span><span class="st">'true'</span>))</span>
<span id="cb6-13"><a href="#cb6-13"></a></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co"># update the field level security to "editable" for your fields</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>prof_update &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_update_metadata.html">sf_update_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'Profile'</span>, </span>
<span id="cb6-16"><a href="#cb6-16"></a>                                  <span class="dt">metadata =</span> admin_editable)</span>
<span id="cb6-17"><a href="#cb6-17"></a></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co"># now try inserting values into that custom object's fields</span></span>
<span id="cb6-19"><a href="#cb6-19"></a>my_new_data =<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">CustomField3__c =</span> <span class="st">"Hello World"</span>, <span class="dt">CustomField4__c =</span> <span class="st">"Hello World"</span>)</span>
<span id="cb6-20"><a href="#cb6-20"></a>added_record &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sf_create.html">sf_create</a></span>(my_new_data, <span class="dt">object_name =</span> custom_object<span class="op">$</span>fullName)</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'c7d5ea1103660127418415a82a24fc3d',
    indexName: 'salesforcer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
