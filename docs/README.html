<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>/Users/steven.mortimer/github/salesforcer/README.md • salesforcer</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script>
<script src="pkgdown.js"></script>
  
  
<meta property="og:title" content="/Users/steven.mortimer/github/salesforcer/README.md" />

<meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/logo.png" />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98603021-2', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">salesforcer</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="articles/working-with-bulk-api.html">Working with Bulk API</a>
    </li>
    <li>
      <a href="articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StevenMMortimer/salesforcer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="contents col-md-12">
    <div class="page-header">
      <h1>/Users/steven.mortimer/github/salesforcer/README.md</h1>
    </div>

<div id="salesforcer" class="section level1">
<h1 class="hasAnchor">
<a href="#salesforcer" class="anchor"></a>salesforcer<img src="man/figures/salesforcer.png" width="120px" align="right">
</h1>
<p><a href="https://travis-ci.org/StevenMMortimer/salesforcer"><img src="https://travis-ci.org/StevenMMortimer/salesforcer.svg?branch=master" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/StevenMMortimer/salesforcer"><img src="https://ci.appveyor.com/api/projects/status/github/StevenMMortimer/salesforcer?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="http://cran.r-project.org/package=salesforcer"><img src="http://www.r-pkg.org/badges/version/salesforcer" alt="CRAN_Status_Badge"></a> <a href="https://codecov.io/gh/StevenMMortimer/salesforcer?branch=master"><img src="https://codecov.io/gh/StevenMMortimer/salesforcer/branch/master/graph/badge.svg" alt="Coverage Status"></a></p>
<p><strong>salesforcer</strong> is an R package that connects to Salesforce Platform APIs using tidy principles. The package implements most actions from the SOAP, REST, Bulk 1.0, Bulk 2.0, and Metadata APIs. Package features include:</p>
<ul>
<li>OAuth 2.0 (Single Sign On) and Basic (Username-Password) Authentication methods (<code><a href="reference/sf_auth.html">sf_auth()</a></code>)</li>
<li>CRUD (Create, Retrieve, Update, Delete) methods for records using the SOAP, REST, and Bulk APIs</li>
<li>Query records via the SOAP, REST, and Bulk 1.0 APIs using <code><a href="reference/sf_query.html">sf_query()</a></code>
</li>
<li>Retrieve and modify metadata (Custom Objects, Fields, etc.) using the Metadata API with:
<ul>
<li>
<code><a href="reference/sf_describe_objects.html">sf_describe_objects()</a></code>, <code><a href="reference/sf_create_metadata.html">sf_create_metadata()</a></code>, <code><a href="reference/sf_update_metadata.html">sf_update_metadata()</a></code>
</li>
</ul>
</li>
<li>Utilize backwards compatible functions for the <strong>RForcecom</strong> package, such as:
<ul>
<li>
<code><a href="reference/rforcecom.login.html">rforcecom.login()</a></code>, <code><a href="reference/rforcecom.query.html">rforcecom.query()</a></code>, <code><a href="reference/rforcecom.create.html">rforcecom.create()</a></code>, <code><a href="reference/rforcecom.update.html">rforcecom.update()</a></code>
</li>
</ul>
</li>
<li>Basic utility calls (<code><a href="reference/sf_user_info.html">sf_user_info()</a></code>, <code><a href="reference/sf_server_timestamp.html">sf_server_timestamp()</a></code>, <code><a href="reference/sf_list_objects.html">sf_list_objects()</a></code>)</li>
</ul>
<div id="table-of-contents" class="section level2">
<h2 class="hasAnchor">
<a href="#table-of-contents" class="anchor"></a>Table of Contents</h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li>
<a href="#usage">Usage</a>
<ul>
<li><a href="#authenticate">Authenticate</a></li>
<li><a href="#create">Create</a></li>
<li><a href="#query">Query</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#bulk-operations">Bulk Operations</a></li>
<li><a href="#using-the-metadata-api">Using the Metadata API</a></li>
</ul>
</li>
<li><a href="#future">Future</a></li>
<li><a href="#credits">Credits</a></li>
<li><a href="#more-information">More Information</a></li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this package is currently not on CRAN, so it should be installed from GitHub</span>
<span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"StevenMMortimer/salesforcer"</span>)</code></pre></div>
<p>If you encounter a clear bug, please file a minimal reproducible example on <a href="https://github.com/StevenMMortimer/salesforcer/issues">GitHub</a>.</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="authenticate" class="section level3">
<h3 class="hasAnchor">
<a href="#authenticate" class="anchor"></a>Authenticate</h3>
<p>First, load the <strong>salesforcer</strong> package and login. There are two ways to authenticate:</p>
<ol>
<li>OAuth 2.0</li>
<li>Basic Username-Password</li>
</ol>
<p>It is recommended to use OAuth 2.0 so that passwords do not have to be shared or embedded within scripts. User credentials will be stored in locally cached file entitled “.httr-oauth-salesforcer” in the current working directory.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">suppressWarnings</span>(<span class="kw">suppressMessages</span>(<span class="kw">library</span>(dplyr)))
<span class="kw">suppressWarnings</span>(<span class="kw">suppressMessages</span>(<span class="kw">library</span>(purrr)))
<span class="kw">library</span>(salesforcer)

<span class="co"># Using OAuth 2.0 authentication</span>
<span class="kw"><a href="reference/sf_auth.html">sf_auth</a></span>()

<span class="co"># Using Basic Username-Password authentication</span>
<span class="kw"><a href="reference/sf_auth.html">sf_auth</a></span>(<span class="dt">username =</span> <span class="st">"test@gmail.com"</span>, 
        <span class="dt">password =</span> <span class="st">"{PASSWORD_HERE}"</span>,
        <span class="dt">security_token =</span> <span class="st">"{SECURITY_TOKEN_HERE}"</span>)</code></pre></div>
<p>After logging in with <code><a href="reference/sf_auth.html">sf_auth()</a></code>, you can check your connectivity by looking at the information returned about the current user. It should be information about you!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pull down information of person logged in</span>
<span class="co"># it's a simple easy call to get started </span>
<span class="co"># and confirm a connection to the APIs</span>
user_info &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_user_info.html">sf_user_info</a></span>()
<span class="kw">sprintf</span>(<span class="st">"User Id: %s"</span>, user_info<span class="op">$</span>id)
<span class="co">#&gt; [1] "User Id: 0056A000000MPRjQAO"</span>
<span class="kw">sprintf</span>(<span class="st">"User Active?: %s"</span>, user_info<span class="op">$</span>isActive)
<span class="co">#&gt; [1] "User Active?: TRUE"</span></code></pre></div>
</div>
<div id="create" class="section level3">
<h3 class="hasAnchor">
<a href="#create" class="anchor"></a>Create</h3>
<p>Salesforce has objects and those objects contain records. One default object is the “Contact” object. This example shows how to create two records in the Contact object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">2</span>
new_contacts &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">FirstName =</span> <span class="kw">rep</span>(<span class="st">"Test"</span>, n),
                       <span class="dt">LastName =</span> <span class="kw">paste0</span>(<span class="st">"Contact-Create-"</span>, <span class="dv">1</span><span class="op">:</span>n))
created_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_create.html">sf_create</a></span>(new_contacts, <span class="dt">object_name=</span><span class="st">"Contact"</span>)
created_records
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   id                 success</span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;  </span>
<span class="co">#&gt; 1 0036A00000SnhbfQAB true   </span>
<span class="co">#&gt; 2 0036A00000SnhbgQAB true</span></code></pre></div>
</div>
<div id="query" class="section level3">
<h3 class="hasAnchor">
<a href="#query" class="anchor"></a>Query</h3>
<p>Salesforce has proprietary form of SQL called SOQL (Salesforce Object Query Language). SOQL is a powerful tool that allows you to return the attributes of records on almost any object in Salesforce including Accounts, Contacts, Tasks, Opportunities, even Attachments! Below is an example where we grab the data we just created including Account object information for which the Contact record is associated with. The Account column is all <code>NA</code> since we have yet to provide information to link these Contacts with Accounts.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_soql &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">"SELECT Id, </span>
<span class="st">                           Account.Name, </span>
<span class="st">                           FirstName, </span>
<span class="st">                           LastName </span>
<span class="st">                    FROM Contact </span>
<span class="st">                    WHERE Id in ('%s')"</span>, 
                   <span class="kw">paste0</span>(created_records<span class="op">$</span>id , <span class="dt">collapse=</span><span class="st">"','"</span>))

queried_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_query.html">sf_query</a></span>(my_soql)
queried_records
<span class="co">#&gt; # A tibble: 2 x 4</span>
<span class="co">#&gt;   Id                 Account FirstName LastName        </span>
<span class="co">#&gt; * &lt;chr&gt;              &lt;lgl&gt;   &lt;chr&gt;     &lt;chr&gt;           </span>
<span class="co">#&gt; 1 0036A00000SnhbfQAB NA      Test      Contact-Create-1</span>
<span class="co">#&gt; 2 0036A00000SnhbgQAB NA      Test      Contact-Create-2</span></code></pre></div>
</div>
<div id="update" class="section level3">
<h3 class="hasAnchor">
<a href="#update" class="anchor"></a>Update</h3>
<p>After creating records you can update them using <code><a href="reference/sf_update.html">sf_update()</a></code>. Updating a record requires you to pass the Salesforce <code>Id</code> of the record. Salesforce creates a unique 18-character identifier on each record and uses that to know which record to attach the update information you provide. Simply include a field or column in your update dataset called “Id” and the information will be matched. Here is an example where we update each of the records we created earlier with a new first name called “TestTest”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Update some of those records</span>
queried_records &lt;-<span class="st"> </span>queried_records <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">FirstName =</span> <span class="st">"TestTest"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>Account)

updated_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_update.html">sf_update</a></span>(queried_records, <span class="dt">object_name=</span><span class="st">"Contact"</span>)
updated_records
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   id                 success</span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;  </span>
<span class="co">#&gt; 1 0036A00000SnhbfQAB true   </span>
<span class="co">#&gt; 2 0036A00000SnhbgQAB true</span></code></pre></div>
</div>
<div id="bulk-operations" class="section level3">
<h3 class="hasAnchor">
<a href="#bulk-operations" class="anchor"></a>Bulk Operations</h3>
<p>For really large operations (inserts, updates, upserts, deletes, and queries) Salesforce provides the <a href="https://developer.salesforce.com/docs/atlas.en-us.api_asynch.meta/api_asynch/asynch_api_intro.htm">Bulk 1.0</a> and <a href="https://developer.salesforce.com/docs/atlas.en-us.api_bulk_v2.meta/api_bulk_v2/introduction_bulk_api_2.htm">Bulk 2.0</a> APIs. In order to use the Bulk APIs in <strong>salesforcer</strong> you can just add <code>api_type = "Bulk 1.0"</code> or <code>api_type = "Bulk 2.0"</code> to your functions and the operation will be executed using the Bulk APIs. It’s that simple.</p>
<p>The benefits of using the Bulk API for larger datasets is that the operation will reduce the number of individual API calls (organization usually have a limit on total calls) and batching the requests in bulk is usually quicker than running thousands of individuals calls when your data is large. <strong>Note:</strong> the Bulk 2.0 API does <strong>NOT</strong> guarantee the order of the data submitted is preserved in the output. This means that you must join on other data columns to match up the Ids that are returned in the output with the data you submitted. For this reason, Bulk 2.0 may not be a good solution for creating, updating, or upserting records where you need to keep track of the created Ids. The Bulk 2.0 API would be fine for deleting records where you only need to know which Ids were successfully deleted.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create contacts using the Bulk API</span>
n &lt;-<span class="st"> </span><span class="dv">2</span>
new_contacts &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">FirstName =</span> <span class="kw">rep</span>(<span class="st">"Test"</span>, n),
                       <span class="dt">LastName =</span> <span class="kw">paste0</span>(<span class="st">"Contact-Create-"</span>, <span class="dv">1</span><span class="op">:</span>n))
created_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_create.html">sf_create</a></span>(new_contacts, <span class="dt">object_name=</span><span class="st">"Contact"</span>, <span class="dt">api_type=</span><span class="st">"Bulk 1.0"</span>)

<span class="co"># query large recordsets using the Bulk API</span>
my_soql &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">"SELECT Id,</span>
<span class="st">                           FirstName, </span>
<span class="st">                           LastName</span>
<span class="st">                    FROM Contact </span>
<span class="st">                    WHERE Id in ('%s')"</span>, 
                   <span class="kw">paste0</span>(created_records<span class="op">$</span>Id , <span class="dt">collapse=</span><span class="st">"','"</span>))

queried_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_query.html">sf_query</a></span>(my_soql, <span class="dt">object_name=</span><span class="st">"Contact"</span>, <span class="dt">api_type=</span><span class="st">"Bulk 1.0"</span>)

<span class="co"># delete these records using the Bulk API</span>
deleted_records &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_delete.html">sf_delete</a></span>(queried_records<span class="op">$</span>Id, <span class="dt">object_name=</span><span class="st">"Contact"</span>, <span class="dt">api_type=</span><span class="st">"Bulk 1.0"</span>)</code></pre></div>
</div>
<div id="using-the-metadata-api" class="section level3">
<h3 class="hasAnchor">
<a href="#using-the-metadata-api" class="anchor"></a>Using the Metadata API</h3>
<p>Salesforce is a very flexible platform. Salesforce provides the <a href="https://developer.salesforce.com/docs/atlas.en-us.api_meta.meta/api_meta/meta_intro.htm">Metadata API</a> for users to create, read, update and delete the objects, page layouts, and more. This makes it very easy to programmatically setup and teardown the Salesforce environment. One common use case for the Metadata API is retrieving information about an object (fields, permissions, etc.). You can use the <code><a href="reference/sf_read_metadata.html">sf_read_metadata()</a></code> function to return a list of objects and their metadata. In the example below we retrieve the metadata for the Account and Contact objects. Note that the <code>metadata_type</code> argument is “CustomObject”. Standard Objects are an implementation of CustomObjects, so they are returned using that metadata type.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">read_obj_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_read_metadata.html">sf_read_metadata</a></span>(<span class="dt">metadata_type=</span><span class="st">'CustomObject'</span>,
                                    <span class="dt">object_names=</span><span class="kw">c</span>(<span class="st">'Account'</span>, <span class="st">'Contact'</span>))
read_obj_result[[<span class="dv">1</span>]][<span class="kw">c</span>(<span class="st">'fullName'</span>, <span class="st">'label'</span>, <span class="st">'sharingModel'</span>, <span class="st">'enableHistory'</span>)]
<span class="co">#&gt; $fullName</span>
<span class="co">#&gt; [1] "Account"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $label</span>
<span class="co">#&gt; [1] "Account"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $sharingModel</span>
<span class="co">#&gt; [1] "ReadWrite"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $enableHistory</span>
<span class="co">#&gt; [1] "false"</span>
first_two_fields_idx &lt;-<span class="st"> </span><span class="kw">head</span>(<span class="kw">which</span>(<span class="kw">names</span>(read_obj_result[[<span class="dv">1</span>]]) <span class="op">==</span><span class="st"> 'fields'</span>), <span class="dv">2</span>)
<span class="co"># show the first two returned fields of the Account object</span>
read_obj_result[[<span class="dv">1</span>]][first_two_fields_idx]
<span class="co">#&gt; $fields</span>
<span class="co">#&gt; $fields$fullName</span>
<span class="co">#&gt; [1] "AccountNumber"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fields$trackFeedHistory</span>
<span class="co">#&gt; [1] "false"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fields</span>
<span class="co">#&gt; $fields$fullName</span>
<span class="co">#&gt; [1] "AccountSource"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fields$trackFeedHistory</span>
<span class="co">#&gt; [1] "false"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $fields$type</span>
<span class="co">#&gt; [1] "Picklist"</span></code></pre></div>
<p>The data is returned as a list because object definitions are highly nested representations. You may notice that we are missing some really specific details, such as, the picklist values of a field with type “Picklist”. You can get that information using the function <code>sf_describe_object()</code> function which is actually part of the REST and SOAP APIs. It is recommended that you try out the various metadata functions <code><a href="reference/sf_read_metadata.html">sf_read_metadata()</a></code>, <code><a href="reference/sf_list_metadata.html">sf_list_metadata()</a></code>, <code><a href="reference/sf_describe_metadata.html">sf_describe_metadata()</a></code>, and <code><a href="reference/sf_describe_objects.html">sf_describe_objects()</a></code> in order to see which information best suits your use case.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">describe_obj_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_describe_objects.html">sf_describe_objects</a></span>(<span class="dt">object_names=</span><span class="kw">c</span>(<span class="st">'Account'</span>, <span class="st">'Contact'</span>))
describe_obj_result[[<span class="dv">1</span>]][<span class="kw">c</span>(<span class="st">'label'</span>, <span class="st">'queryable'</span>)]
<span class="co">#&gt; $label</span>
<span class="co">#&gt; [1] "Account"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $queryable</span>
<span class="co">#&gt; [1] "true"</span>
<span class="co"># show the first two returned fields of the Account object</span>
the_type_field &lt;-<span class="st"> </span>describe_obj_result[[<span class="dv">1</span>]][[<span class="dv">58</span>]]
the_type_field<span class="op">$</span>name
<span class="co">#&gt; [1] "Type"</span>
<span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map_df</a></span>(the_type_field[<span class="kw">which</span>(<span class="kw">names</span>(the_type_field) <span class="op">==</span><span class="st"> "picklistValues"</span>)], as_tibble)
<span class="co">#&gt; # A tibble: 7 x 4</span>
<span class="co">#&gt;   active defaultValue label                      value                    </span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;                      &lt;chr&gt;                    </span>
<span class="co">#&gt; 1 true   false        Prospect                   Prospect                 </span>
<span class="co">#&gt; 2 true   false        Customer - Direct          Customer - Direct        </span>
<span class="co">#&gt; 3 true   false        Customer - Channel         Customer - Channel       </span>
<span class="co">#&gt; 4 true   false        Channel Partner / Reseller Channel Partner / Resell…</span>
<span class="co">#&gt; 5 true   false        Installation Partner       Installation Partner     </span>
<span class="co">#&gt; 6 true   false        Technology Partner         Technology Partner       </span>
<span class="co">#&gt; 7 true   false        Other                      Other</span></code></pre></div>
<p>Where the Metadata API really shines is when it comes to CRUD operations on metadata. In this example we will create an object, add fields to it, then delete that object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create an object</span>
base_obj_name &lt;-<span class="st"> "Custom_Account1"</span>
custom_object &lt;-<span class="st"> </span><span class="kw">list</span>()
custom_object<span class="op">$</span>fullName &lt;-<span class="st"> </span><span class="kw">paste0</span>(base_obj_name, <span class="st">"__c"</span>)
custom_object<span class="op">$</span>label &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="kw">gsub</span>(<span class="st">"_"</span>, <span class="st">" "</span>, base_obj_name))
custom_object<span class="op">$</span>pluralLabel &lt;-<span class="st"> </span><span class="kw">paste0</span>(base_obj_name, <span class="st">"s"</span>)
custom_object<span class="op">$</span>nameField &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">displayFormat =</span> <span class="st">'AN-{0000}'</span>, 
                                <span class="dt">label =</span> <span class="kw">paste0</span>(base_obj_name, <span class="st">' Number'</span>), 
                                <span class="dt">type =</span> <span class="st">'AutoNumber'</span>)
custom_object<span class="op">$</span>deploymentStatus &lt;-<span class="st"> 'Deployed'</span>
custom_object<span class="op">$</span>sharingModel &lt;-<span class="st"> 'ReadWrite'</span>
custom_object<span class="op">$</span>enableActivities &lt;-<span class="st"> 'true'</span>
custom_object<span class="op">$</span>description &lt;-<span class="st"> </span><span class="kw">paste0</span>(base_obj_name, <span class="st">" created by the Metadata API"</span>)
custom_object_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_create_metadata.html">sf_create_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomObject'</span>,
                                           <span class="dt">metadata =</span> custom_object)

<span class="co"># add fields to the object</span>
custom_fields &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">fullName=</span><span class="kw">c</span>(<span class="kw">paste0</span>(base_obj_name, <span class="st">'__c.CustomField3__c'</span>), 
                                   <span class="kw">paste0</span>(base_obj_name, <span class="st">'__c.CustomField4__c'</span>)), 
                        <span class="dt">label=</span><span class="kw">c</span>(<span class="st">'Test Field3'</span>, <span class="st">'Test Field4'</span>), 
                        <span class="dt">length=</span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">100</span>), 
                        <span class="dt">type=</span><span class="kw">c</span>(<span class="st">'Text'</span>, <span class="st">'Text'</span>))
create_fields_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_create_metadata.html">sf_create_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomField'</span>, 
                                           <span class="dt">metadata =</span> custom_fields)

<span class="co"># delete the object</span>
deleted_custom_object_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/sf_delete_metadata.html">sf_delete_metadata</a></span>(<span class="dt">metadata_type =</span> <span class="st">'CustomObject'</span>, 
                                                   <span class="dt">object_names =</span> <span class="kw">c</span>(<span class="st">'Custom_Account1__c'</span>))</code></pre></div>
</div>
</div>
<div id="future" class="section level2">
<h2 class="hasAnchor">
<a href="#future" class="anchor"></a>Future</h2>
<p>Future APIs to support:</p>
<ul>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_intro.htm">Reports and Dashboards REST API</a></li>
<li><a href="https://developer.salesforce.com/docs/atlas.en-us.bi_dev_guide_rest.meta/bi_dev_guide_rest/bi_rest_overview.htm">Analytics REST API</a></li>
</ul>
</div>
<div id="credits" class="section level2">
<h2 class="hasAnchor">
<a href="#credits" class="anchor"></a>Credits</h2>
<p>This application uses other open source software components. The authentication components are mostly verbatim copies of the routines established in the <strong>googlesheets</strong> package (<a href="https://github.com/jennybc/googlesheets" class="uri">https://github.com/jennybc/googlesheets</a>). Methods are inspired by the <strong>RForcecom</strong> package (<a href="https://github.com/hiratake55/RForcecom" class="uri">https://github.com/hiratake55/RForcecom</a>). We acknowledge and are grateful to these developers for their contributions to open source.</p>
</div>
<div id="more-information" class="section level2">
<h2 class="hasAnchor">
<a href="#more-information" class="anchor"></a>More Information</h2>
<p>Salesforce provides client libraries and examples in many programming langauges (Java, Python, Ruby, and PhP) but unfortunately R is not a supported language. However, most all operations supported by the Salesforce APIs are available via this package. This package makes requests best formatted to match what the APIs require as input. This articulation is not perfect and continued progress will be made to add and improve functionality. For details on formatting, attributes, and methods please refer to <a href="https://developer.salesforce.com/page/Salesforce_APIs">Salesforce’s documentation</a> as they are explained better there.</p>
<p>More information is also available on the <code>pkgdown</code> site at <a href="https://StevenMMortimer.github.io/salesforcer" class="uri">https://StevenMMortimer.github.io/salesforcer</a>.</p>
<p><a href="#salesforcer">Top</a></p>
<hr>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>

  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

