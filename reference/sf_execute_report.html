<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Execute a report — sf_execute_report • salesforcer</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Execute a report — sf_execute_report" />
<meta property="og:description" content="
Get summary data with or without details by running a report synchronously or
asynchronously through the API. When you run a report, the API returns data
for the same number of records that are available when the report is run in
the Salesforce user interface. Include the filters argument in your
request to get specific results on the fly by passing dynamic filters,
groupings, and aggregates in the report metadata. Finally, you may want to
use sf_run_report." />
<meta property="og:image" content="https://stevenmmortimer.github.io/salesforcer/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98603021-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98603021-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">salesforcer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/getting-started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/supported-queries.html">Supported Queries</a>
    </li>
    <li>
      <a href="../articles/working-with-bulk-apis.html">Working with Bulk APIs</a>
    </li>
    <li>
      <a href="../articles/working-with-reports.html">Working with Reports</a>
    </li>
    <li>
      <a href="../articles/working-with-attachments.html">Working with Attachments</a>
    </li>
    <li>
      <a href="../articles/working-with-metadata.html">Working with Metadata</a>
    </li>
    <li>
      <a href="../articles/passing-control-args.html">Passing Control Args</a>
    </li>
    <li>
      <a href="../articles/transitioning-from-RForcecom.html">Transitioning from RForcecom</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/StevenMMortimer/salesforcer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Execute a report</h1>
    <small class="dont-index">Source: <a href='https://github.com/StevenMMortimer/salesforcer/blob/master/R/analytics-report.R'><code>R/analytics-report.R</code></a></small>
    <div class="hidden name"><code>sf_execute_report.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://www.tidyverse.org/lifecycle/#experimental'><img src='figures/lifecycle-experimental.svg' alt='Experimental lifecycle'></a></p>
<p>Get summary data with or without details by running a report synchronously or
asynchronously through the API. When you run a report, the API returns data
for the same number of records that are available when the report is run in
the Salesforce user interface. Include the <code>filters</code> argument in your
request to get specific results on the fly by passing dynamic filters,
groupings, and aggregates in the report metadata. Finally, you may want to
use <code><a href='sf_run_report.html'>sf_run_report</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>sf_execute_report</span>(
  <span class='kw'>report_id</span>,
  async = <span class='fl'>FALSE</span>,
  include_details = <span class='fl'>TRUE</span>,
  labels = <span class='fl'>TRUE</span>,
  guess_types = <span class='fl'>TRUE</span>,
  bind_using_character_cols = <span class='fl'>FALSE</span>,
  as_tbl = <span class='fl'>TRUE</span>,
  report_metadata = <span class='kw'>NULL</span>,
  verbose = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>report_id</th>
      <td><p><code>character</code>; the Salesforce Id assigned to a created
analytics report. It will start with <code>"00O"</code>.</p></td>
    </tr>
    <tr>
      <th>async</th>
      <td><p><code>logical</code>; an indicator, by default set to <code>TRUE</code>, which
executes the report asynchronously. If executed asynchronously, this function
will return a list of attributes of the created report instance. The results
can be pulled down by providing the report id and instance id to
the function <code><a href='sf_get_report_instance_results.html'>sf_get_report_instance_results</a></code>. Refer to the details
of the documentation on why executing a report asynchronously is preferred.</p></td>
    </tr>
    <tr>
      <th>include_details</th>
      <td><p><code>logical</code>; an indicator applying to a synchronous
indicating whether the run should return summary data with details.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p><code>logical</code>; an indicator of whether the returned data should
be the label (i.e. formatted value) or the actual value. By default, the labels
are returned because these are what appear in the Salesforce dashboard and
more closely align with the column names. For example, "Account.Name" label
may be <code>"Account B"</code> and the value <code>0016A0000035mJEQAY</code>. The former
(label) more accurately reflects the "Account.Name".</p></td>
    </tr>
    <tr>
      <th>guess_types</th>
      <td><p><code>logical</code>; indicating whether or not to use <code>col_guess()</code>
to try and cast the data returned in the recordset. If <code>TRUE</code> then
<code>col_guess()</code> is used, if <code>FALSE</code> then all fields will be returned
as character. This is helpful when <code>col_guess()</code> will mangle field values
in Salesforce that you'd like to preserve during translation into a <code>tbl_df</code>,
like numeric looking values that must be preserved as strings ("48.0").</p></td>
    </tr>
    <tr>
      <th>bind_using_character_cols</th>
      <td><p><code>logical</code>; an indicator of whether to
cast the data to all character columns to ensure that <code><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></code>
does not fail because two paginated recordsets have differing datatypes for the
same column. Set this to <code>TRUE</code> rarely, typically only when having this
set to <code>FALSE</code> returns an error or you want all columns in the data to be
character.</p></td>
    </tr>
    <tr>
      <th>as_tbl</th>
      <td><p><code>logical</code>; an indicator of whether to convert the parsed
JSON into a <code>tbl_df</code>.</p></td>
    </tr>
    <tr>
      <th>report_metadata</th>
      <td><p><code>list</code>; a <code>list</code> with one element named
<code>"reportMetadata"</code> having additional list elements underneath. All possible
elements of <code>reportMetadata</code> are documented
<a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_getbasic_reportmetadata.htm#analyticsapi_basicmetadata'>HERE</a>,
but you will most commonly only need to specify the following 3 elements to
filter or query the results of an existing report:</p><dl>
<dt>reportFormat</dt><dd><p>A <code>character</code> specifying the format of the report
with possible values: <code>"TABULAR"</code>, <code>"SUMMARY"</code>, <code>"MATRIX"</code>,
or <code>"MULTI_BLOCK"</code>.</p></dd>
<dt>reportBooleanFilter</dt><dd><p>A <code>character</code> denoting how the individuals
filters specified in <code>reportFilters</code> should be combined. For example,
<code>"(1OR4)AND2AND3"</code></p></dd>.
<dt>reportFilters</dt><dd><p>A <code>list</code> of reportFilter specifications. Each must
be a list with 3 elements: 1) <code>column</code>, 2) <code>operator</code>, and 3) <code>value</code>.
You can find out how certain field types can be filtered by reviewing the results
of <code><a href='sf_list_report_filter_operators.html'>sf_list_report_filter_operators</a></code>.</p></dd>

</dl></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code>; an indicator of whether to print additional
detail for each API call, which is useful for debugging. More specifically, when
set to <code>TRUE</code> the URL, header, and body will be printed for each request,
along with additional diagnostic information where available.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>tbl_df</code> by default, but a <code>list</code> when <code>as_tbl=FALSE</code>,
which means that the content from the API is converted from JSON to a list
with no other post-processing.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Run a report synchronously if you expect it to finish running quickly.
Otherwise, we recommend that you run reports through the API asynchronously
for these reasons:</p><ul>
<li><p>Long running reports have a lower risk of reaching the timeout limit
when run asynchronously.</p></li>
<li><p>The 2-minute overall Salesforce API timeout limit doesn’t apply to
asynchronous runs.</p></li>
<li><p>The Salesforce Reports and Dashboards REST API can handle a higher
number of asynchronous run requests at a time.</p></li>
<li><p>Since the results of an asynchronously run report are stored for a
24-hr rolling period, they’re available for recurring access.</p></li>
</ul>

<p>Before you filter a report, it helpful to check the following properties in the metadata
that tell you if a field can be filtered, the values and criteria you can filter
by, and filters that already exist in the report:</p><ul>
<li><p>filterable</p></li>
<li><p>filterValues</p></li>
<li><p>dataTypeFilterOperatorMap</p></li>
<li><p>reportFilters</p></li>
</ul>

    <h2 class="hasAnchor" id="salesforce-documentation"><a class="anchor" href="#salesforce-documentation"></a>Salesforce Documentation</h2>

    

<ul>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_getreportrundata.htm'>Sync Documentation</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_get_reportdata.htm#example_sync_reportexecute'>Sync Example</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_instances_summaryasync.htm'>Async Documentation</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_get_reportdata.htm#example_report_async_instances'>Async Example</a></p></li>
<li><p><a href='https://developer.salesforce.com/docs/atlas.en-us.api_analytics.meta/api_analytics/sforce_analytics_rest_api_filter_reportdata.htm#example_requestbody_execute_resource'>Filtering Results</a></p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Report functions: 
<code><a href='sf_copy_report.html'>sf_copy_report</a>()</code>,
<code><a href='sf_create_report.html'>sf_create_report</a>()</code>,
<code><a href='sf_delete_report.html'>sf_delete_report</a>()</code>,
<code><a href='sf_describe_report_type.html'>sf_describe_report_type</a>()</code>,
<code><a href='sf_describe_report.html'>sf_describe_report</a>()</code>,
<code><a href='sf_list_report_fields.html'>sf_list_report_fields</a>()</code>,
<code><a href='sf_list_report_filter_operators.html'>sf_list_report_filter_operators</a>()</code>,
<code><a href='sf_list_report_types.html'>sf_list_report_types</a>()</code>,
<code><a href='sf_list_reports.html'>sf_list_reports</a>()</code>,
<code><a href='sf_query_report.html'>sf_query_report</a>()</code>,
<code><a href='sf_run_report.html'>sf_run_report</a>()</code>,
<code><a href='sf_update_report.html'>sf_update_report</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># first, get the Id of a report in your Org</span>
<span class='kw'>all_reports</span> <span class='op'>&lt;-</span> <span class='fu'><a href='sf_query.html'>sf_query</a></span>(<span class='st'>"SELECT Id, Name FROM Report"</span>)
<span class='kw'>this_report_id</span> <span class='op'>&lt;-</span> <span class='kw'>all_reports</span><span class='op'>$</span><span class='kw'>Id</span>[<span class='fl'>1</span>]

<span class='co'># then execute a synchronous report that will wait for the results</span>
<span class='kw'>results</span> <span class='op'>&lt;-</span> <span class='fu'>sf_execute_report</span>(<span class='kw'>this_report_id</span>)

<span class='co'># alternatively, you can execute an async report and then grab its results when done</span>
<span class='co'>#   - The benefit of an async report is that the results will be stored for up to</span>
<span class='co'>#     24 hours for faster recall, if needed</span>
<span class='kw'>results</span> <span class='op'>&lt;-</span> <span class='fu'>sf_execute_report</span>(<span class='kw'>this_report_id</span>, async=<span class='fl'>TRUE</span>)

<span class='co'># check if completed and proceed if the status is "Success"</span>
<span class='kw'>instance_list</span> <span class='op'>&lt;-</span> <span class='fu'><a href='sf_list_report_instances.html'>sf_list_report_instances</a></span>(<span class='kw'>report_id</span>)
<span class='kw'>instance_status</span> <span class='op'>&lt;-</span> <span class='kw'>instance_list</span>[[<span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span>(<span class='kw'>instance_list</span><span class='op'>$</span><span class='kw'>id</span> <span class='op'>==</span> <span class='kw'>results</span><span class='op'>$</span><span class='kw'>id</span>), <span class='st'>"status"</span>]]
<span class='co'>if</span>(<span class='kw'>instance_status</span> <span class='op'>==</span> <span class='st'>"Success"</span>){
  <span class='kw'>results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='sf_get_report_instance_results.html'>sf_get_report_instance_results</a></span>(<span class='kw'>report_id</span>, <span class='kw'>results</span><span class='op'>$</span><span class='kw'>id</span>)
}

<span class='co'># Note: For more complex execution use the report_metadata argument.</span>
<span class='co'># This can be done by building the list from scratch based on Salesforce </span>
<span class='co'># documentation (not recommended) or pulling down the existing reportMetadata </span>
<span class='co'># property of the report and modifying the list slightly (recommended). </span>
<span class='co'># In addition, for relatively simple changes, you can leverage the convenience </span>
<span class='co'># function sf_report_wrapper() which makes it easier to retrieve report results</span>
<span class='kw'>report_details</span> <span class='op'>&lt;-</span> <span class='fu'><a href='sf_describe_report.html'>sf_describe_report</a></span>(<span class='kw'>this_report_id</span>)
<span class='kw'>report_metadata</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(reportMetadata = <span class='kw'>report_details</span><span class='op'>$</span><span class='kw'>reportMetadata</span>)
<span class='kw'>report_metadata</span><span class='op'>$</span><span class='kw'>reportMetadata</span><span class='op'>$</span><span class='kw'>showGrandTotal</span> <span class='op'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='kw'>report_metadata</span><span class='op'>$</span><span class='kw'>reportMetadata</span><span class='op'>$</span><span class='kw'>showSubtotals</span> <span class='op'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='kw'>fields</span> <span class='op'>&lt;-</span> <span class='fu'>sf_execute_report</span>(<span class='kw'>this_report_id</span>,
                            report_metadata = <span class='kw'>report_metadata</span>)
}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steven M. Mortimer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'c7d5ea1103660127418415a82a24fc3d',
    indexName: 'salesforcer',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


